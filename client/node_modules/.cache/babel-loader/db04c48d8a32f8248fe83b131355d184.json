{"ast":null,"code":"import _slicedToArray from \"/Users/brettfitzpatrick/Desktop/Bootcamp/Projects/Mountain-Planner/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/brettfitzpatrick/Desktop/Bootcamp/Projects/Mountain-Planner/client/src/pages/Day.js\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { DateUtils } from \"react-day-picker\";\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport { useHistory } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport API from \"../utils/API\";\n\nfunction Day() {\n  var _useState = useState({\n    make: \"\",\n    model: \"\",\n    year: \"\",\n    color: \"\",\n    seats: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      car = _useState2[0],\n      setCar = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedDay = _useState4[0],\n      setSelectedDay = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mountain = _useState6[0],\n      setMountain = _useState6[1];\n\n  var history = useHistory();\n  var mountainRef = useRef();\n  useEffect(function () {\n    storeCar();\n  }, []);\n\n  var handleDayChange = function handleDayChange(day) {\n    setSelectedDay(day.toLocaleDateString());\n  };\n\n  var handleMountain = function handleMountain(event) {\n    setMountain(event.target.value);\n    console.log(event.target.value);\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    console.log(mountain);\n    console.log(selectedDay);\n\n    if (mountain === \"\" || !selectedDay) {\n      alert(\"must select both a date and mountain\");\n      return;\n    } else if (DateUtils.isFutureDay(selectedDay) === false) {\n      alert(\"cannot select a date that has already happened\");\n      return;\n    } else {\n      handleBooking(mountain, selectedDay);\n    }\n  };\n\n  var handleBooking = function handleBooking(mountain, selectedDay) {\n    var userProfile = JSON.parse(localStorage.getItem(\"currentUser\"));\n    var username = userProfile.username;\n    var userCar = JSON.parse(localStorage.getItem(\"currentCar\"));\n    console.log(userCar);\n    var carSeats = userCar.seats;\n    API.bookTrip(username, mountain, selectedDay, carSeats).then(function () {\n      console.log(\"check database trip should book\");\n      history.push(\"/profile\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var storeCar = function storeCar() {\n    API.findUserCar().then(function (response) {\n      console.log(response);\n      var userProfile = JSON.parse(localStorage.getItem(\"currentUser\"));\n      var username = userProfile.username;\n      console.log(username);\n\n      for (var i = 0; i < response.data.userCar.length; i++) {\n        if (response.data.userCar[i].username === username) {\n          var currentCar = {\n            username: response.data.userCar[i].username,\n            make: response.data.userCar[i].make,\n            model: response.data.userCar[i].model,\n            year: response.data.userCar[i].year,\n            color: response.data.userCar[i].color,\n            seats: response.data.userCar[i].seats\n          };\n          console.log(currentCar);\n          localStorage.setItem('currentCar', JSON.stringify(currentCar));\n        }\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-10\",\n    className: \"rounded border border-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"Plan a trip\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form signup-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, selectedDay && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, \"Day: \", selectedDay), !selectedDay && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 34\n    }\n  }, \"Choose a day\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"day-trip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"What Day?:\"), /*#__PURE__*/React.createElement(DayPickerInput, {\n    id: \"day-trip\",\n    onDayChange: handleDayChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"mountains-trip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"What Mountain?:\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"mountains-trip\",\n    name: \"mountains\",\n    onChange: handleMountain,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"A-Basin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, \"A-Basin\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Aspen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Aspen\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Breckenridge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, \"Breckenridge\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Copper Mountain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, \"Copper Mountain\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Crested Butte\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, \"Crested Butte\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Eldora\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, \"Eldora\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Keystone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, \"Keystone\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Loveland\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, \"Loveland\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Steamboat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"Steamboat\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Telluride\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, \"Telluride\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Vail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, \"Vail\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    type: \"submit\",\n    onClick: function onClick(event) {\n      return handleSubmit(event);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Book\"))))));\n}\n\nexport default Day;","map":{"version":3,"sources":["/Users/brettfitzpatrick/Desktop/Bootcamp/Projects/Mountain-Planner/client/src/pages/Day.js"],"names":["React","useState","useRef","useEffect","DateUtils","DayPickerInput","useHistory","Col","Row","Container","API","Day","make","model","year","color","seats","car","setCar","undefined","selectedDay","setSelectedDay","mountain","setMountain","history","mountainRef","storeCar","handleDayChange","day","toLocaleDateString","handleMountain","event","target","value","console","log","handleSubmit","preventDefault","alert","isFutureDay","handleBooking","userProfile","JSON","parse","localStorage","getItem","username","userCar","carSeats","bookTrip","then","push","catch","err","findUserCar","response","i","data","length","currentCar","setItem","stringify"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { DateUtils } from \"react-day-picker\";\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport { useHistory } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport API from \"../utils/API\";\n\nfunction Day() {\n  const [car, setCar] = useState({\n    make: \"\",\n    model: \"\",\n    year: \"\",\n    color: \"\",\n    seats: \"\"\n  });\n  const [selectedDay, setSelectedDay] = useState(undefined);\n  const [mountain, setMountain] = useState(\"\");\n\n  const history = useHistory();\n\n  const mountainRef = useRef();\n\n  useEffect(() => {\n    storeCar()\n  }, [])\n\n  const handleDayChange = ((day) => {\n\n    setSelectedDay(day.toLocaleDateString())\n  });\n\n  const handleMountain = (event) => {\n    setMountain(event.target.value);\n    console.log(event.target.value);\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(mountain);\n    console.log(selectedDay);\n    if (mountain === \"\" || !selectedDay) {\n      alert(\"must select both a date and mountain\");\n      return;\n    } else if (DateUtils.isFutureDay(selectedDay) === false) {\n      alert(\"cannot select a date that has already happened\");\n      return;\n    } else {\n      handleBooking(mountain, selectedDay);\n    }\n  }\n\n  const handleBooking = (mountain, selectedDay) => {\n    const userProfile = JSON.parse(localStorage.getItem(\"currentUser\"));\n    const username = userProfile.username;\n    const userCar = JSON.parse(localStorage.getItem(\"currentCar\"));\n    console.log(userCar);\n    const carSeats = userCar.seats;\n    API.bookTrip(username, mountain, selectedDay, carSeats)\n      .then(() => {\n        console.log(\"check database trip should book\");\n        history.push(\"/profile\");\n      })\n      .catch(err => {\n        console.log(err)\n      });\n  }\n\n  const storeCar = () => {\n    API.findUserCar()\n      .then(response => {\n        console.log(response)\n        const userProfile = JSON.parse(localStorage.getItem(\"currentUser\"));\n        const username = userProfile.username;\n        console.log(username);\n        for (let i = 0; i < response.data.userCar.length; i++) {\n          if (response.data.userCar[i].username === username) {\n            let currentCar = {\n              username: response.data.userCar[i].username,\n              make: response.data.userCar[i].make,\n              model: response.data.userCar[i].model,\n              year: response.data.userCar[i].year,\n              color: response.data.userCar[i].color,\n              seats: response.data.userCar[i].seats\n            }\n            console.log(currentCar);\n\n            localStorage.setItem('currentCar', JSON.stringify(currentCar));\n          }\n        }\n\n      })\n      .catch(err => {\n        console.log(err)\n      });\n  }\n\n  return (\n    <Container fluid>\n        <Row>\n          <Col size=\"md-10\" className=\"rounded border border-secondary\">\n            <h2>Plan a trip</h2>\n\n            <form className=\"form signup-form\">\n              <div className=\"form-group\">\n                {selectedDay && <p>Day: {selectedDay}</p>}\n                {!selectedDay && <p>Choose a day</p>}\n                <label htmlFor=\"day-trip\">What Day?:</label>\n                <DayPickerInput id=\"day-trip\" onDayChange={handleDayChange} />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"mountains-trip\">What Mountain?:</label>\n                <select className=\"form-control\" id=\"mountains-trip\" name=\"mountains\" onChange={handleMountain} >\n                  <option value=\"A-Basin\">A-Basin</option>\n                  <option value=\"Aspen\">Aspen</option>\n                  <option value=\"Breckenridge\">Breckenridge</option>\n                  <option value=\"Copper Mountain\">Copper Mountain</option>\n                  <option value=\"Crested Butte\">Crested Butte</option>\n                  <option value=\"Eldora\">Eldora</option>\n                  <option value=\"Keystone\">Keystone</option>\n                  <option value=\"Loveland\">Loveland</option>\n                  <option value=\"Steamboat\">Steamboat</option>\n                  <option value=\"Telluride\">Telluride</option>\n                  <option value=\"Vail\">Vail</option>\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <button className=\"btn btn-secondary\" type=\"submit\" onClick={event => handleSubmit(event)} >Book</button>\n              </div>\n            </form>\n          </Col>\n        </Row>\n      </Container>\n  )\n}\n\nexport default Day;"]},"metadata":{},"sourceType":"module"}