{"ast":null,"code":"import _slicedToArray from \"/Users/brettfitzpatrick/Desktop/Bootcamp/Projects/Mountain-Planner/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/brettfitzpatrick/Desktop/Bootcamp/Projects/Mountain-Planner/client/src/pages/Signup.js\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../utils/API\";\n\nfunction Signup(props) {\n  var firstnameRef = useRef();\n  var lastnameRef = useRef();\n  var usernameRef = useRef();\n  var emailRef = useRef();\n  var passwordRef = useRef();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var history = useHistory();\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n\n    if (!usernameRef.current.value || !emailRef.current.value || !passwordRef.current.value) {\n      setError(\"Missing a required field.\");\n      passwordRef.current.value = \"\";\n      return;\n    }\n\n    API.signup(firstnameRef.current.value, lastnameRef.current.value, usernameRef.current.value, emailRef.current.value, passwordRef.current.value).then(function (response) {\n      setError(null);\n      console.log(response.data);\n      var currentUser = {\n        firstname: response.data.user.firstname,\n        lastname: response.data.user.lastname,\n        username: response.data.user.username,\n        email: response.data.user.email\n      };\n      console.log(currentUser);\n      localStorage.setItem('currentUser', JSON.stringify(currentUser));\n      props.handleLogin(response.data.isLoggedIn);\n      history.push(\"/car\");\n    }).catch(function (err) {\n      if (!err.response) {\n        setError(\"Unable to connect to the server.\");\n      } else if (err.response.data === \"SequelizeValidationError\") {\n        setError(\"Please enter a valid email address.\");\n      } else if (err.response.data === \"SequelizeUniqueConstraintError\") {\n        setError(\"This email address is already associated with an account.\");\n      } else {\n        setError(\"An unknown error occurred.\");\n      }\n\n      passwordRef.current.value = \"\";\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card col-6\",\n    style: {\n      margin: \"0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Signup\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form signup-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"First Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    id: \"firstname-signup\",\n    ref: firstnameRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastname-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Last Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    id: \"lastname-signup\",\n    ref: lastnameRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    id: \"username-signup\",\n    ref: usernameRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    id: \"email-signup\",\n    ref: emailRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"password\",\n    id: \"password-signup\",\n    ref: passwordRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    type: \"submit\",\n    onClick: function onClick(event) {\n      return handleSubmit(event);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Signup\")))));\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/brettfitzpatrick/Desktop/Bootcamp/Projects/Mountain-Planner/client/src/pages/Signup.js"],"names":["React","useRef","useState","useEffect","Col","Row","Container","useHistory","API","Signup","props","firstnameRef","lastnameRef","usernameRef","emailRef","passwordRef","error","setError","history","handleSubmit","event","preventDefault","current","value","signup","then","response","console","log","data","currentUser","firstname","user","lastname","username","email","localStorage","setItem","JSON","stringify","handleLogin","isLoggedIn","push","catch","err","margin"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../utils/API\";\n\nfunction Signup(props) {\n  const firstnameRef = useRef();\n  const lastnameRef = useRef();\n  const usernameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const [error, setError] = useState(null);\n\n  const history = useHistory();\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (!usernameRef.current.value || !emailRef.current.value || !passwordRef.current.value) {\n        setError(\"Missing a required field.\");\n        passwordRef.current.value = \"\";\n        return;\n    }\n\n    API.signup(firstnameRef.current.value, lastnameRef.current.value, usernameRef.current.value, emailRef.current.value, passwordRef.current.value)\n        .then(response => {\n            setError(null);\n            console.log(response.data)\n            let currentUser = {\n              firstname: response.data.user.firstname,\n              lastname: response.data.user.lastname,\n              username: response.data.user.username,\n              email: response.data.user.email\n            }\n            console.log(currentUser);\n\n            localStorage.setItem('currentUser', JSON.stringify(currentUser));\n            props.handleLogin(response.data.isLoggedIn);\n            history.push(\"/car\");\n        })\n        .catch(err => {\n            if (!err.response) {\n                setError(\"Unable to connect to the server.\");\n            } else if (err.response.data === \"SequelizeValidationError\") {\n                setError(\"Please enter a valid email address.\");\n            } else if (err.response.data === \"SequelizeUniqueConstraintError\") {\n                setError(\"This email address is already associated with an account.\");\n            } else {\n                setError(\"An unknown error occurred.\");\n            }\n            passwordRef.current.value = \"\";\n            console.log(err);\n        })\n}\n\n  return (\n    <Container fluid>\n      <div className=\"card col-6\" style={{margin: \"0 auto\"}}>\n        <h2>Signup</h2>\n\n        <form className=\"form signup-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"firstname-signup\">First Name:</label>\n            <input className=\"form-input\" type=\"text\" id=\"firstname-signup\"  ref={firstnameRef} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"lastname-signup\">Last Name:</label>\n            <input className=\"form-input\" type=\"text\" id=\"lastname-signup\" ref={lastnameRef} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"username-signup\">Username:</label>\n            <input className=\"form-input\" type=\"text\" id=\"username-signup\" ref={usernameRef} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"email-signup\">Email:</label>\n            <input className=\"form-input\" type=\"text\" id=\"email-signup\" ref={emailRef} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password-signup\">Password:</label>\n            <input className=\"form-input\" type=\"password\" id=\"password-signup\" ref={passwordRef} />\n          </div>\n          <div className=\"form-group\">\n            <button className=\"btn btn-secondary\" type=\"submit\" onClick={event => handleSubmit(event)} >Signup</button>\n          </div>\n        </form>\n      </div>\n    </Container>\n  )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}